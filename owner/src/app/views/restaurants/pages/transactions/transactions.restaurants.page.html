<div class="dash">
    <div></div>
    <a class="dash-btn back" [routerLink]="'/restaurants/'+type"><span>{{words['common']['back'][currentLang.slug]}}</span></a>    
</div>
<div class="data">    
    <div class="datalist-desktop">
        <div class="datalist-overlay" [class.active]="tlLoading"></div>              
        <table>
            <tr *ngIf="restaurant">
                <td colspan="3" class="borderedbottom">
                    <div>{{words['owner-transactions']['restaurant'][currentLang.slug]}}: <strong>{{restaurant.name}}</strong></div>
                    <div>{{words['owner-transactions']['sum'][currentLang.slug]}}: <strong>{{tlSum | number:'1.2-2'}}</strong></div>
                </td>
            </tr>
            <tr>
                <td><dateperiod-picker [(value)]="tlFilterCreatedAt" (valueChange)="initTransactions()"></dateperiod-picker></td>
                <td></td>
                <td></td>                
            </tr>
            <tr>
                <th class="align-left"><label class="sortable" [class.sorted-forward]="tlSortBy === 'created_at' && tlSortDir === 1" [class.sorted-backward]="tlSortBy === 'created_at' && tlSortDir === -1" (click)="changeSorting('created_at')">{{words['owner-transactions']['created-at'][currentLang.slug]}}</label></th>
                <th class="align-left"><label class="sortable" [class.sorted-forward]="tlSortBy === 'type' && tlSortDir === 1" [class.sorted-backward]="tlSortBy === 'type' && tlSortDir === -1" (click)="changeSorting('type')">{{words['owner-transactions']['type'][currentLang.slug]}}</label></th>
                <th class="align-center"><label class="sortable" [class.sorted-forward]="tlSortBy === 'amount' && tlSortDir === 1" [class.sorted-backward]="tlSortBy === 'amount' && tlSortDir === -1" (click)="changeSorting('amount')">{{words['owner-transactions']['amount'][currentLang.slug]}}</label></th>                                        
            </tr>                                    
            <ng-container *ngIf="tl.length">
                <tr *ngFor="let t of tl">
                    <td><span class="nowrap">{{t.formattedCreatedAt}}</span></td>
                    <td>{{transactionType(t)}}</td>
                    <td class="align-center">{{t.amount | number:'1.2-2'}}</td>                
                </tr>            
            </ng-container>
            <ng-container *ngIf="!tl.length">
                <tr><td>{{words['common']['none'][currentLang.slug]}}</td></tr>
            </ng-container>            
        </table>
    </div>
    <pagination [allLength]="tlAllLength" [length]="tlLength" [current]="tlCurrentPart" (currentChanged)="tlCurrentPart = $event; initTransactions();"></pagination>
</div>